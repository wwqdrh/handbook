要求: HTTPS 服务器以及客户端

## 服务端代码

1、TLS自签证书，必须使用https服务器

2、内存数据结构、不需持久化

3、提供api接口，客户端发送一个请求[]string, 服务端需要检测是否已经发送过了(1、需要传入传出的数组长度一致2、第一次收到返回false，第二次及以上返回true，每一个字符串都要依次处理，不能都返回false)

4、任何情况都不能退出进程

## 客户端代码

1、一个client函数，调用服务端的api，输入[]string, 输出[]bool和error

2、任何情况都不能退出进程

3、类型必须严格匹配

## 自动化测试

1、使用测试框架写一个自动测试，需要在进程启动服务端后客户端在同一个进程向服务端发送若干请求去测试代码正确性

2、需要至少一种正常情况，输入还有预期写死

3、必须验证error，程序自行判断是否符合预期，可以考虑加上清除缓存是否正确，自动测试客户端/服务端必须在同一个进程

## 难点

1、https服务器

2、内存数据结构

3、良好的异常处理，不能让进程直接退出

4、自动化测试

5、按规定打包



## 执行步骤

HTTPS协议 = HTTP协议 + SSL/TLS协议，在HTTPS数据传输的过程中，需要用SSL/TLS对数据进行加密和解密，需要用HTTP对加密后的数据进行传输，由此可以看出HTTPS是由HTTP和SSL/TLS一起合作完成的

- 密钥：改变密码行为的数字化参数。
- 对称密钥加密系统：编 / 解码使用相同密钥的算法。
- 不对称密钥加密系统：编 / 解码使用不同密钥的算法。
- 公开密钥加密系统：一种能够使数百万计算机便捷地发送机密报文的系统。
- 数字签名：用来验证报文未被伪造或篡改的校验和。
- 数字证书：由一个可信的组织验证和签发的识别信息。

TLS的基本工作方式是，客户端使用非对称加密与服务器进行通信，实现身份验证并协商对称加密使用的密钥， 然后对称加密算法采用协商密钥对信息以及信息摘要进行加密通信，不同的节点之间采用的对称密钥不同，从而可以保证信息只能通信双方获取。

1、使用openssl命令生成证书(需要复习下openssl相关参数的功能)

2、使用net/http官方库编写服务器

```
package main

import (

    "log"
    "net/http"
)

func SayHello(w http.ResponseWriter, req *http.Request) {
    w.Write([]byte("Hello"))
}

func main() {

    http.HandleFunc("/", SayHello)
    err := http.ListenAndServeTLS(":8080", "cert.pem", "key.pem", nil)
    if err != nil {
        log.Fatal("ListenAndServe: ", err)
    }
}
```

3、创建客户端方便测试

4、完成api接口，测试函数传递一个[]string， 需要保存所有请求中是否已经存在了，需要处理, 需要处理下如何传递[]string, 自行处理一下编解码问题

- 接收到的[]byte转为字符串，然后字符串按照 , 进行分割成数组

5、完善细节，程序不退出、服务端客户端在同一进程

6、编写自动化测试

7、打包，完善细节